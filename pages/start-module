{
  "title": "Start Module",
  "story": [
    {
      "type": "paragraph",
      "id": "a67b6923e3c6740a",
      "text": "The start.js script starts the server, awaits requests, enriches them with configuration details, then passes these to the dispatch(req) entry of the host. [https://github.com/WardCunningham/assets/blob/master/pages/smallest-wiki-revisited/start.js github]"
    },
    {
      "type": "paragraph",
      "id": "12f4cc19696df306",
      "text": "Used by the deno command line."
    },
    {
      "type": "code",
      "id": "0a8f1bbfea70bc51",
      "text": "deno run --allow-net --allow-read start.js "
    },
    {
      "type": "paragraph",
      "id": "a91f30a1b7face10",
      "text": "Uses [[Deno Standard Server]] to listen for web requests then passes them to the [[Host Module]] to be answered."
    },
    {
      "type": "graphviz",
      "id": "be4db963f6c6e465",
      "text": "DOT FROM module-diagram\n\nSTATIC\n \nstrict digraph {\n\nrankdir=LR\nnode [shape=box style=filled fillcolor=gold]\n\"Start\nModule\"\nnode [fillcolor=lightgreen]\n\"Start\nModule\" -> \"Deno\nStandard\nServer\"\n\"Start\nModule\" -> \"Host\nModule\"}",
      "dot": "strict digraph {\n\nrankdir=LR\nnode [shape=box style=filled fillcolor=gold]\n\"Start\nModule\"\nnode [fillcolor=lightgreen]\n\"Start\nModule\" -> \"Deno\nStandard\nServer\"\n\"Start\nModule\" -> \"Host\nModule\"}",
      "svg": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\n \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n<!-- Generated by graphviz version 2.44.0 (20200518.1210)\n -->\n<!-- Pages: 1 -->\n<svg width=\"169pt\" height=\"126pt\"\n viewBox=\"0.00 0.00 169.31 126.00\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n<g id=\"graph0\" class=\"graph\" transform=\"scale(1 1) rotate(0) translate(4 122)\">\n<polygon fill=\"white\" stroke=\"transparent\" points=\"-4,4 -4,-122 165.31,-122 165.31,4 -4,4\"/>\n<!-- Start\nModule -->\n<g id=\"node1\" class=\"node\">\n<title>Start\nModule</title>\n<polygon fill=\"gold\" stroke=\"black\" points=\"59.33,-75.4 0.22,-75.4 0.22,-34.2 59.33,-34.2 59.33,-75.4\"/>\n<text text-anchor=\"middle\" x=\"29.77\" y=\"-59\" font-family=\"Times,serif\" font-size=\"14.00\">Start</text>\n<text text-anchor=\"middle\" x=\"29.77\" y=\"-42.2\" font-family=\"Times,serif\" font-size=\"14.00\">Module</text>\n</g>\n<!-- Deno\nStandard\nServer -->\n<g id=\"node2\" class=\"node\">\n<title>Deno\nStandard\nServer</title>\n<polygon fill=\"lightgreen\" stroke=\"black\" points=\"161.19,-118.2 95.67,-118.2 95.67,-59.4 161.19,-59.4 161.19,-118.2\"/>\n<text text-anchor=\"middle\" x=\"128.43\" y=\"-101.4\" font-family=\"Times,serif\" font-size=\"14.00\">Deno</text>\n<text text-anchor=\"middle\" x=\"128.43\" y=\"-84.6\" font-family=\"Times,serif\" font-size=\"14.00\">Standard</text>\n<text text-anchor=\"middle\" x=\"128.43\" y=\"-67.8\" font-family=\"Times,serif\" font-size=\"14.00\">Server</text>\n</g>\n<!-- Start\nModule&#45;&gt;Deno\nStandard\nServer -->\n<g id=\"edge1\" class=\"edge\">\n<title>Start\nModule&#45;&gt;Deno\nStandard\nServer</title>\n<path fill=\"none\" stroke=\"black\" d=\"M59.51,-64.91C67.85,-67.84 77.12,-71.1 86.07,-74.25\"/>\n<polygon fill=\"black\" stroke=\"black\" points=\"85,-77.58 95.59,-77.6 87.32,-70.98 85,-77.58\"/>\n</g>\n<!-- Host\nModule -->\n<g id=\"node3\" class=\"node\">\n<title>Host\nModule</title>\n<polygon fill=\"lightgreen\" stroke=\"black\" points=\"157.98,-41.4 98.88,-41.4 98.88,-0.2 157.98,-0.2 157.98,-41.4\"/>\n<text text-anchor=\"middle\" x=\"128.43\" y=\"-25\" font-family=\"Times,serif\" font-size=\"14.00\">Host</text>\n<text text-anchor=\"middle\" x=\"128.43\" y=\"-8.2\" font-family=\"Times,serif\" font-size=\"14.00\">Module</text>\n</g>\n<!-- Start\nModule&#45;&gt;Host\nModule -->\n<g id=\"edge2\" class=\"edge\">\n<title>Start\nModule&#45;&gt;Host\nModule</title>\n<path fill=\"none\" stroke=\"black\" d=\"M59.51,-44.69C68.78,-41.43 79.2,-37.77 89.05,-34.3\"/>\n<polygon fill=\"black\" stroke=\"black\" points=\"90.36,-37.55 98.64,-30.93 88.04,-30.95 90.36,-37.55\"/>\n</g>\n</g>\n</svg>\n"
    },
    {
      "type": "paragraph",
      "id": "89a6d9fdc0a9f074",
      "text": "Start.js will be modified or replaced to configure a production version of the host."
    },
    {
      "type": "paragraph",
      "id": "f98d1592074831a3",
      "text": "● The version of deno server to be used."
    },
    {
      "type": "paragraph",
      "id": "b8d7413a4a4e98ff",
      "text": "● The port to be used for requests."
    },
    {
      "type": "paragraph",
      "id": "1fb05688c86e1d6e",
      "text": "● The directory for application modules, typically ./"
    },
    {
      "type": "paragraph",
      "id": "be860f25824ac208",
      "text": "● The directory for farm site files, typically ~/.wiki"
    },
    {
      "type": "paragraph",
      "id": "279cee26e074244c",
      "text": "● The information to be logged with each request."
    },
    {
      "type": "paragraph",
      "id": "86d43be0a9163d76",
      "text": "See [[Custom Start Modules]] for useful variations."
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Start Module",
        "story": [
          {
            "type": "paragraph",
            "id": "a67b6923e3c6740a",
            "text": "We describe in plain language how this module, class or function contributes to the whole of wiki."
          },
          {
            "type": "paragraph",
            "id": "12f4cc19696df306",
            "text": "Used paragraph describes other modules that depend on this to deliver their value."
          },
          {
            "type": "paragraph",
            "id": "a91f30a1b7face10",
            "text": "Uses paragraph describes modules imported and/or invoked in order to make this module's contribution."
          },
          {
            "type": "graphviz",
            "id": "be4db963f6c6e465",
            "text": "DOT FROM module-diagram"
          }
        ]
      },
      "date": 1608352242495
    },
    {
      "type": "edit",
      "id": "a67b6923e3c6740a",
      "item": {
        "type": "paragraph",
        "id": "a67b6923e3c6740a",
        "text": "The start.js script starts the server, awaits requests, enriches them with configuration details, then passes these to the dispatch(req) entry of the host."
      },
      "date": 1608352449794
    },
    {
      "type": "edit",
      "id": "a67b6923e3c6740a",
      "item": {
        "type": "paragraph",
        "id": "a67b6923e3c6740a",
        "text": "The start.js script starts the server, awaits requests, enriches them with configuration details, then passes these to the dispatch(req) entry of the host. [[https://github.com/WardCunningham/assets/blob/master/pages/smallest-wiki-revisited/start.js github]"
      },
      "date": 1608352468329
    },
    {
      "type": "edit",
      "id": "a67b6923e3c6740a",
      "item": {
        "type": "paragraph",
        "id": "a67b6923e3c6740a",
        "text": "The start.js script starts the server, awaits requests, enriches them with configuration details, then passes these to the dispatch(req) entry of the host. [https://github.com/WardCunningham/assets/blob/master/pages/smallest-wiki-revisited/start.js github]"
      },
      "date": 1608352474932
    },
    {
      "type": "edit",
      "id": "12f4cc19696df306",
      "item": {
        "type": "paragraph",
        "id": "12f4cc19696df306",
        "text": "Used by the deno command line."
      },
      "date": 1608352512554
    },
    {
      "type": "add",
      "id": "0a8f1bbfea70bc51",
      "item": {
        "type": "factory",
        "id": "0a8f1bbfea70bc51",
        "text": "deno run --allow-net --allow-read start.js"
      },
      "after": "12f4cc19696df306",
      "date": 1608352555026
    },
    {
      "type": "edit",
      "id": "0a8f1bbfea70bc51",
      "item": {
        "type": "code",
        "id": "0a8f1bbfea70bc51",
        "text": "deno run --allow-net --allow-read start.js "
      },
      "date": 1608352561334
    },
    {
      "type": "edit",
      "id": "a91f30a1b7face10",
      "item": {
        "type": "paragraph",
        "id": "a91f30a1b7face10",
        "text": "Uses [[Deno Std Server]] to listen for web requests then passes them to the [[Host Module]] dispatch."
      },
      "date": 1608352747525
    },
    {
      "type": "edit",
      "id": "a91f30a1b7face10",
      "item": {
        "type": "paragraph",
        "id": "a91f30a1b7face10",
        "text": "Uses [[Deno Standard Server]] to listen for web requests then passes them to the [[Host Module]] dispatch."
      },
      "date": 1608352765022
    },
    {
      "type": "edit",
      "id": "a91f30a1b7face10",
      "item": {
        "type": "paragraph",
        "id": "a91f30a1b7face10",
        "text": "Uses [[Deno Standard Server]] to listen for web requests then passes them to the [[Host Module]] to answer each request."
      },
      "date": 1608353028723
    },
    {
      "type": "edit",
      "id": "a91f30a1b7face10",
      "item": {
        "type": "paragraph",
        "id": "a91f30a1b7face10",
        "text": "Uses [[Deno Standard Server]] to listen for web requests then passes them to the [[Host Module]] to be answered."
      },
      "date": 1608353042724
    },
    {
      "item": {
        "type": "factory",
        "id": "89a6d9fdc0a9f074"
      },
      "id": "89a6d9fdc0a9f074",
      "type": "add",
      "after": "be4db963f6c6e465",
      "date": 1608353133693
    },
    {
      "type": "edit",
      "id": "89a6d9fdc0a9f074",
      "item": {
        "type": "paragraph",
        "id": "89a6d9fdc0a9f074",
        "text": "Start.js will be modified or replaced to configure a production version of the host."
      },
      "date": 1608353211045
    },
    {
      "type": "add",
      "id": "f98d1592074831a3",
      "item": {
        "type": "paragraph",
        "id": "f98d1592074831a3",
        "text": "● The version of deno server to be used."
      },
      "after": "89a6d9fdc0a9f074",
      "date": 1608353268505
    },
    {
      "type": "add",
      "id": "b8d7413a4a4e98ff",
      "item": {
        "type": "paragraph",
        "id": "b8d7413a4a4e98ff",
        "text": "● The port to be used for requests."
      },
      "after": "f98d1592074831a3",
      "date": 1608353306011
    },
    {
      "type": "add",
      "id": "be860f25824ac208",
      "item": {
        "type": "paragraph",
        "id": "be860f25824ac208",
        "text": "● The directory where the server will find sites."
      },
      "after": "b8d7413a4a4e98ff",
      "date": 1608353335024
    },
    {
      "type": "add",
      "id": "279cee26e074244c",
      "item": {
        "type": "paragraph",
        "id": "279cee26e074244c",
        "text": "● The information to be logged with each request."
      },
      "after": "be860f25824ac208",
      "date": 1608353383755
    },
    {
      "item": {
        "type": "factory",
        "id": "86d43be0a9163d76"
      },
      "id": "86d43be0a9163d76",
      "type": "add",
      "after": "279cee26e074244c",
      "date": 1608765534442
    },
    {
      "type": "edit",
      "id": "86d43be0a9163d76",
      "item": {
        "type": "paragraph",
        "id": "86d43be0a9163d76",
        "text": "See [[Custom Start Modules]] for useful variations."
      },
      "date": 1608765582048
    },
    {
      "type": "add",
      "id": "1fb05688c86e1d6e",
      "item": {
        "type": "paragraph",
        "id": "1fb05688c86e1d6e",
        "text": "● The directory were the server will find app files."
      },
      "after": "b8d7413a4a4e98ff",
      "date": 1608765720558
    },
    {
      "type": "edit",
      "id": "1fb05688c86e1d6e",
      "item": {
        "type": "paragraph",
        "id": "1fb05688c86e1d6e",
        "text": "● The directory where the server will find app files."
      },
      "date": 1608765742034
    },
    {
      "type": "edit",
      "id": "1fb05688c86e1d6e",
      "item": {
        "type": "paragraph",
        "id": "1fb05688c86e1d6e",
        "text": "● The directory for application modules, now ."
      },
      "date": 1608765808393
    },
    {
      "type": "edit",
      "id": "1fb05688c86e1d6e",
      "item": {
        "type": "paragraph",
        "id": "1fb05688c86e1d6e",
        "text": "● The directory for application modules, the cwd"
      },
      "date": 1608765821288
    },
    {
      "type": "edit",
      "id": "1fb05688c86e1d6e",
      "item": {
        "type": "paragraph",
        "id": "1fb05688c86e1d6e",
        "text": "● The directory for application modules, the cwd."
      },
      "date": 1608765828228
    },
    {
      "type": "edit",
      "id": "be860f25824ac208",
      "item": {
        "type": "paragraph",
        "id": "be860f25824ac208",
        "text": "● The directory for farm site files, ~/.wiki"
      },
      "date": 1608765875192
    },
    {
      "type": "edit",
      "id": "be860f25824ac208",
      "item": {
        "type": "paragraph",
        "id": "be860f25824ac208",
        "text": "● The directory for farm site files, typically ~/.wiki"
      },
      "date": 1608765884658
    },
    {
      "type": "edit",
      "id": "1fb05688c86e1d6e",
      "item": {
        "type": "paragraph",
        "id": "1fb05688c86e1d6e",
        "text": "● The directory for application modules, typically ."
      },
      "date": 1608765898923
    },
    {
      "type": "edit",
      "id": "1fb05688c86e1d6e",
      "item": {
        "type": "paragraph",
        "id": "1fb05688c86e1d6e",
        "text": "● The directory for application modules, typically ./"
      },
      "date": 1608765910161
    },
    {
      "type": "edit",
      "id": "be4db963f6c6e465",
      "item": {
        "type": "graphviz",
        "id": "be4db963f6c6e465",
        "text": "DOT FROM module-diagram\n\nSTATIC\n \nstrict digraph {\n\nrankdir=LR\nnode [shape=box style=filled fillcolor=gold]\n\"Start\nModule\"\nnode [fillcolor=lightgreen]\n\"Start\nModule\" -> \"Deno\nStandard\nServer\"\n\"Start\nModule\" -> \"Host\nModule\"}",
        "dot": "strict digraph {\n\nrankdir=LR\nnode [shape=box style=filled fillcolor=gold]\n\"Start\nModule\"\nnode [fillcolor=lightgreen]\n\"Start\nModule\" -> \"Deno\nStandard\nServer\"\n\"Start\nModule\" -> \"Host\nModule\"}",
        "svg": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\n \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n<!-- Generated by graphviz version 2.44.0 (20200518.1210)\n -->\n<!-- Pages: 1 -->\n<svg width=\"169pt\" height=\"126pt\"\n viewBox=\"0.00 0.00 169.31 126.00\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n<g id=\"graph0\" class=\"graph\" transform=\"scale(1 1) rotate(0) translate(4 122)\">\n<polygon fill=\"white\" stroke=\"transparent\" points=\"-4,4 -4,-122 165.31,-122 165.31,4 -4,4\"/>\n<!-- Start\nModule -->\n<g id=\"node1\" class=\"node\">\n<title>Start\nModule</title>\n<polygon fill=\"gold\" stroke=\"black\" points=\"59.33,-75.4 0.22,-75.4 0.22,-34.2 59.33,-34.2 59.33,-75.4\"/>\n<text text-anchor=\"middle\" x=\"29.77\" y=\"-59\" font-family=\"Times,serif\" font-size=\"14.00\">Start</text>\n<text text-anchor=\"middle\" x=\"29.77\" y=\"-42.2\" font-family=\"Times,serif\" font-size=\"14.00\">Module</text>\n</g>\n<!-- Deno\nStandard\nServer -->\n<g id=\"node2\" class=\"node\">\n<title>Deno\nStandard\nServer</title>\n<polygon fill=\"lightgreen\" stroke=\"black\" points=\"161.19,-118.2 95.67,-118.2 95.67,-59.4 161.19,-59.4 161.19,-118.2\"/>\n<text text-anchor=\"middle\" x=\"128.43\" y=\"-101.4\" font-family=\"Times,serif\" font-size=\"14.00\">Deno</text>\n<text text-anchor=\"middle\" x=\"128.43\" y=\"-84.6\" font-family=\"Times,serif\" font-size=\"14.00\">Standard</text>\n<text text-anchor=\"middle\" x=\"128.43\" y=\"-67.8\" font-family=\"Times,serif\" font-size=\"14.00\">Server</text>\n</g>\n<!-- Start\nModule&#45;&gt;Deno\nStandard\nServer -->\n<g id=\"edge1\" class=\"edge\">\n<title>Start\nModule&#45;&gt;Deno\nStandard\nServer</title>\n<path fill=\"none\" stroke=\"black\" d=\"M59.51,-64.91C67.85,-67.84 77.12,-71.1 86.07,-74.25\"/>\n<polygon fill=\"black\" stroke=\"black\" points=\"85,-77.58 95.59,-77.6 87.32,-70.98 85,-77.58\"/>\n</g>\n<!-- Host\nModule -->\n<g id=\"node3\" class=\"node\">\n<title>Host\nModule</title>\n<polygon fill=\"lightgreen\" stroke=\"black\" points=\"157.98,-41.4 98.88,-41.4 98.88,-0.2 157.98,-0.2 157.98,-41.4\"/>\n<text text-anchor=\"middle\" x=\"128.43\" y=\"-25\" font-family=\"Times,serif\" font-size=\"14.00\">Host</text>\n<text text-anchor=\"middle\" x=\"128.43\" y=\"-8.2\" font-family=\"Times,serif\" font-size=\"14.00\">Module</text>\n</g>\n<!-- Start\nModule&#45;&gt;Host\nModule -->\n<g id=\"edge2\" class=\"edge\">\n<title>Start\nModule&#45;&gt;Host\nModule</title>\n<path fill=\"none\" stroke=\"black\" d=\"M59.51,-44.69C68.78,-41.43 79.2,-37.77 89.05,-34.3\"/>\n<polygon fill=\"black\" stroke=\"black\" points=\"90.36,-37.55 98.64,-30.93 88.04,-30.95 90.36,-37.55\"/>\n</g>\n</g>\n</svg>\n"
      },
      "date": 1608767026968
    }
  ]
}