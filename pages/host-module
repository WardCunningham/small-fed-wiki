{
  "title": "Host Module",
  "story": [
    {
      "type": "paragraph",
      "id": "a67b6923e3c6740a",
      "text": "The host.js module launches the [[View Module]] within the visitor's browser and then supports it and any other federation site by delivering pages on request. [https://github.com/WardCunningham/assets/blob/master/pages/smallest-wiki-revisited/host.js github]"
    },
    {
      "type": "paragraph",
      "id": "12f4cc19696df306",
      "text": "Used by the [[Start Module]] to handle web requests."
    },
    {
      "type": "paragraph",
      "id": "a91f30a1b7face10",
      "text": "Uses [[Deno Standard Server]] for Headers required in responses we send to the clients and imports [[View Module]] in the html we provide. "
    },
    {
      "type": "graphviz",
      "id": "be4db963f6c6e465",
      "text": "DOT FROM module-diagram\n\nSTATIC\n \nstrict digraph {\n\nrankdir=LR\nnode [shape=box style=filled fillcolor=gold]\n\"Host\nModule\"\nnode [fillcolor=lightgreen]\n\"Start\nModule\" -> \"Host\nModule\"\n\"Host\nModule\" -> \"Deno\nStandard\nServer\"\n\"Host\nModule\" -> \"View\nModule\"}",
      "dot": "strict digraph {\n\nrankdir=LR\nnode [shape=box style=filled fillcolor=gold]\n\"Host\nModule\"\nnode [fillcolor=lightgreen]\n\"Start\nModule\" -> \"Host\nModule\"\n\"Host\nModule\" -> \"Deno\nStandard\nServer\"\n\"Host\nModule\" -> \"View\nModule\"}",
      "svg": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\n \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n<!-- Generated by graphviz version 2.44.0 (20200518.1210)\n -->\n<!-- Pages: 1 -->\n<svg width=\"265pt\" height=\"126pt\"\n viewBox=\"0.00 0.00 264.86 126.00\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n<g id=\"graph0\" class=\"graph\" transform=\"scale(1 1) rotate(0) translate(4 122)\">\n<polygon fill=\"white\" stroke=\"transparent\" points=\"-4,4 -4,-122 260.86,-122 260.86,4 -4,4\"/>\n<!-- Host\nModule -->\n<g id=\"node1\" class=\"node\">\n<title>Host\nModule</title>\n<polygon fill=\"gold\" stroke=\"black\" points=\"154.88,-75.4 95.77,-75.4 95.77,-34.2 154.88,-34.2 154.88,-75.4\"/>\n<text text-anchor=\"middle\" x=\"125.32\" y=\"-59\" font-family=\"Times,serif\" font-size=\"14.00\">Host</text>\n<text text-anchor=\"middle\" x=\"125.32\" y=\"-42.2\" font-family=\"Times,serif\" font-size=\"14.00\">Module</text>\n</g>\n<!-- Deno\nStandard\nServer -->\n<g id=\"node3\" class=\"node\">\n<title>Deno\nStandard\nServer</title>\n<polygon fill=\"lightgreen\" stroke=\"black\" points=\"256.74,-118.2 191.22,-118.2 191.22,-59.4 256.74,-59.4 256.74,-118.2\"/>\n<text text-anchor=\"middle\" x=\"223.98\" y=\"-101.4\" font-family=\"Times,serif\" font-size=\"14.00\">Deno</text>\n<text text-anchor=\"middle\" x=\"223.98\" y=\"-84.6\" font-family=\"Times,serif\" font-size=\"14.00\">Standard</text>\n<text text-anchor=\"middle\" x=\"223.98\" y=\"-67.8\" font-family=\"Times,serif\" font-size=\"14.00\">Server</text>\n</g>\n<!-- Host\nModule&#45;&gt;Deno\nStandard\nServer -->\n<g id=\"edge2\" class=\"edge\">\n<title>Host\nModule&#45;&gt;Deno\nStandard\nServer</title>\n<path fill=\"none\" stroke=\"black\" d=\"M155.06,-64.91C163.4,-67.84 172.67,-71.1 181.62,-74.25\"/>\n<polygon fill=\"black\" stroke=\"black\" points=\"180.55,-77.58 191.14,-77.6 182.87,-70.98 180.55,-77.58\"/>\n</g>\n<!-- View\nModule -->\n<g id=\"node4\" class=\"node\">\n<title>View\nModule</title>\n<polygon fill=\"lightgreen\" stroke=\"black\" points=\"253.53,-41.4 194.43,-41.4 194.43,-0.2 253.53,-0.2 253.53,-41.4\"/>\n<text text-anchor=\"middle\" x=\"223.98\" y=\"-25\" font-family=\"Times,serif\" font-size=\"14.00\">View</text>\n<text text-anchor=\"middle\" x=\"223.98\" y=\"-8.2\" font-family=\"Times,serif\" font-size=\"14.00\">Module</text>\n</g>\n<!-- Host\nModule&#45;&gt;View\nModule -->\n<g id=\"edge3\" class=\"edge\">\n<title>Host\nModule&#45;&gt;View\nModule</title>\n<path fill=\"none\" stroke=\"black\" d=\"M155.06,-44.69C164.33,-41.43 174.75,-37.77 184.6,-34.3\"/>\n<polygon fill=\"black\" stroke=\"black\" points=\"185.91,-37.55 194.19,-30.93 183.59,-30.95 185.91,-37.55\"/>\n</g>\n<!-- Start\nModule -->\n<g id=\"node2\" class=\"node\">\n<title>Start\nModule</title>\n<polygon fill=\"lightgreen\" stroke=\"black\" points=\"59.33,-75.4 0.22,-75.4 0.22,-34.2 59.33,-34.2 59.33,-75.4\"/>\n<text text-anchor=\"middle\" x=\"29.77\" y=\"-59\" font-family=\"Times,serif\" font-size=\"14.00\">Start</text>\n<text text-anchor=\"middle\" x=\"29.77\" y=\"-42.2\" font-family=\"Times,serif\" font-size=\"14.00\">Module</text>\n</g>\n<!-- Start\nModule&#45;&gt;Host\nModule -->\n<g id=\"edge1\" class=\"edge\">\n<title>Start\nModule&#45;&gt;Host\nModule</title>\n<path fill=\"none\" stroke=\"black\" d=\"M59.35,-54.8C67.62,-54.8 76.78,-54.8 85.55,-54.8\"/>\n<polygon fill=\"black\" stroke=\"black\" points=\"85.6,-58.3 95.6,-54.8 85.6,-51.3 85.6,-58.3\"/>\n</g>\n</g>\n</svg>\n"
    },
    {
      "type": "paragraph",
      "id": "2b9fc8adaa6695e6",
      "text": "The host represents the persistent state of wiki sites. Requests can come from a client launched by the server or from other clients within the federation or beyond."
    },
    {
      "type": "paragraph",
      "id": "cbf8786b3c1b823f",
      "text": "● Answers a small html file to load and run view.js."
    },
    {
      "type": "paragraph",
      "id": "a90cd02f1ca125d1",
      "text": "● Answers the unmodified view.js module file."
    },
    {
      "type": "paragraph",
      "id": "17fc74b2108cc7aa",
      "text": "● Answers the favicon flag that represents a site."
    },
    {
      "type": "paragraph",
      "id": "103cbc7450120275",
      "text": "● Answers the sitemap identifying available pages."
    },
    {
      "type": "paragraph",
      "id": "ac285d588713c2e3",
      "text": "● Answers a page encoded in the JSON page schema."
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Host Module",
        "story": [
          {
            "type": "paragraph",
            "id": "a67b6923e3c6740a",
            "text": "We describe in plain language how this module, class or function contributes to the whole of wiki."
          },
          {
            "type": "paragraph",
            "id": "12f4cc19696df306",
            "text": "Used paragraph describes other modules that depend on this to deliver their value."
          },
          {
            "type": "paragraph",
            "id": "a91f30a1b7face10",
            "text": "Uses paragraph describes modules imported and/or invoked in order to make this module's contribution."
          },
          {
            "type": "paragraph",
            "id": "9757a2794468cabe",
            "text": "The [[Module Diagram]] shows these relationships."
          },
          {
            "type": "graphviz",
            "id": "be4db963f6c6e465",
            "text": "DOT FROM module-diagram"
          }
        ]
      },
      "date": 1608226935669
    },
    {
      "type": "edit",
      "id": "a67b6923e3c6740a",
      "item": {
        "type": "paragraph",
        "id": "a67b6923e3c6740a",
        "text": "The host.js module launches the [[View Module]] within the visitor's browser and then supports it and any other federation site by delivering pages on request."
      },
      "date": 1608227049721
    },
    {
      "type": "edit",
      "id": "12f4cc19696df306",
      "item": {
        "type": "paragraph",
        "id": "12f4cc19696df306",
        "text": "Used by the [[Start Module]] to handle web requests."
      },
      "date": 1608227231701
    },
    {
      "type": "remove",
      "id": "9757a2794468cabe",
      "date": 1608227379984
    },
    {
      "type": "edit",
      "id": "a67b6923e3c6740a",
      "item": {
        "type": "paragraph",
        "id": "a67b6923e3c6740a",
        "text": "The host.js module launches the [[View Module]] within the visitor's browser and then supports it and any other federation site by delivering pages on request. [https://github.com/WardCunningham/assets/blob/master/pages/smallest-wiki-revisited/host.js github]"
      },
      "date": 1608227793270
    },
    {
      "type": "edit",
      "id": "a91f30a1b7face10",
      "item": {
        "type": "paragraph",
        "id": "a91f30a1b7face10",
        "text": "Uses [[Deno Standard Server]] "
      },
      "date": 1608227923670
    },
    {
      "type": "edit",
      "id": "a91f30a1b7face10",
      "item": {
        "type": "paragraph",
        "id": "a91f30a1b7face10",
        "text": "Uses [[Deno Standard Server]] for Headers required in responses it send to the clients."
      },
      "date": 1608228038391
    },
    {
      "type": "edit",
      "id": "a91f30a1b7face10",
      "item": {
        "type": "paragraph",
        "id": "a91f30a1b7face10",
        "text": "Uses [[Deno Standard Server]] for Headers required in responses it send to the clients and calls out [[View Module]] in the bootstrap "
      },
      "date": 1608228272888
    },
    {
      "type": "edit",
      "id": "a91f30a1b7face10",
      "item": {
        "type": "paragraph",
        "id": "a91f30a1b7face10",
        "text": "Uses [[Deno Standard Server]] for Headers required in responses it send to the clients and calls out [[View Module]] in the html it provides. "
      },
      "date": 1608228321433
    },
    {
      "type": "edit",
      "id": "a91f30a1b7face10",
      "item": {
        "type": "paragraph",
        "id": "a91f30a1b7face10",
        "text": "Uses [[Deno Standard Server]] for Headers required in responses we send to the clients and imports [[View Module]] in the html we provide. "
      },
      "date": 1608230188635
    },
    {
      "item": {
        "type": "factory",
        "id": "2b9fc8adaa6695e6"
      },
      "id": "2b9fc8adaa6695e6",
      "type": "add",
      "after": "be4db963f6c6e465",
      "date": 1608353923572
    },
    {
      "type": "edit",
      "id": "2b9fc8adaa6695e6",
      "item": {
        "type": "paragraph",
        "id": "2b9fc8adaa6695e6",
        "text": "The host represents the persistent state of wiki sites. Requests can come from a client launched by the server or from other clients within the federation or beyond."
      },
      "date": 1608354069053
    },
    {
      "type": "add",
      "id": "cbf8786b3c1b823f",
      "item": {
        "type": "paragraph",
        "id": "cbf8786b3c1b823f",
        "text": "● Answers a small html file to load and run the view.js module."
      },
      "after": "2b9fc8adaa6695e6",
      "date": 1608354178132
    },
    {
      "type": "edit",
      "id": "cbf8786b3c1b823f",
      "item": {
        "type": "paragraph",
        "id": "cbf8786b3c1b823f",
        "text": "● Answers a small html file to load and run a view."
      },
      "date": 1608354190010
    },
    {
      "type": "add",
      "id": "a90cd02f1ca125d1",
      "item": {
        "type": "paragraph",
        "id": "a90cd02f1ca125d1",
        "text": "● Answers the unmodified view.js module."
      },
      "after": "cbf8786b3c1b823f",
      "date": 1608354263366
    },
    {
      "type": "edit",
      "id": "cbf8786b3c1b823f",
      "item": {
        "type": "paragraph",
        "id": "cbf8786b3c1b823f",
        "text": "● Answers a small html file to load and run view.js."
      },
      "date": 1608354271228
    },
    {
      "type": "edit",
      "id": "a90cd02f1ca125d1",
      "item": {
        "type": "paragraph",
        "id": "a90cd02f1ca125d1",
        "text": "● Answers the unmodified view.js module file."
      },
      "date": 1608354294304
    },
    {
      "type": "add",
      "id": "17fc74b2108cc7aa",
      "item": {
        "type": "paragraph",
        "id": "17fc74b2108cc7aa",
        "text": "● Answers the favicon flag that represents a site."
      },
      "after": "a90cd02f1ca125d1",
      "date": 1608354360860
    },
    {
      "type": "add",
      "id": "103cbc7450120275",
      "item": {
        "type": "paragraph",
        "id": "103cbc7450120275",
        "text": "● Answers the sitemap identifying available pages."
      },
      "after": "17fc74b2108cc7aa",
      "date": 1608354392511
    },
    {
      "type": "add",
      "id": "ac285d588713c2e3",
      "item": {
        "type": "paragraph",
        "id": "ac285d588713c2e3",
        "text": "● Answers a page encoded in the JSON page schema."
      },
      "after": "103cbc7450120275",
      "date": 1608354469940
    },
    {
      "type": "edit",
      "id": "be4db963f6c6e465",
      "item": {
        "type": "graphviz",
        "id": "be4db963f6c6e465",
        "text": "DOT FROM module-diagram\n\nSTATIC\n \nstrict digraph {\n\nrankdir=LR\nnode [shape=box style=filled fillcolor=gold]\n\"Host\nModule\"\nnode [fillcolor=lightgreen]\n\"Start\nModule\" -> \"Host\nModule\"\n\"Host\nModule\" -> \"Deno\nStandard\nServer\"\n\"Host\nModule\" -> \"View\nModule\"}",
        "dot": "strict digraph {\n\nrankdir=LR\nnode [shape=box style=filled fillcolor=gold]\n\"Host\nModule\"\nnode [fillcolor=lightgreen]\n\"Start\nModule\" -> \"Host\nModule\"\n\"Host\nModule\" -> \"Deno\nStandard\nServer\"\n\"Host\nModule\" -> \"View\nModule\"}",
        "svg": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\n \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n<!-- Generated by graphviz version 2.44.0 (20200518.1210)\n -->\n<!-- Pages: 1 -->\n<svg width=\"265pt\" height=\"126pt\"\n viewBox=\"0.00 0.00 264.86 126.00\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n<g id=\"graph0\" class=\"graph\" transform=\"scale(1 1) rotate(0) translate(4 122)\">\n<polygon fill=\"white\" stroke=\"transparent\" points=\"-4,4 -4,-122 260.86,-122 260.86,4 -4,4\"/>\n<!-- Host\nModule -->\n<g id=\"node1\" class=\"node\">\n<title>Host\nModule</title>\n<polygon fill=\"gold\" stroke=\"black\" points=\"154.88,-75.4 95.77,-75.4 95.77,-34.2 154.88,-34.2 154.88,-75.4\"/>\n<text text-anchor=\"middle\" x=\"125.32\" y=\"-59\" font-family=\"Times,serif\" font-size=\"14.00\">Host</text>\n<text text-anchor=\"middle\" x=\"125.32\" y=\"-42.2\" font-family=\"Times,serif\" font-size=\"14.00\">Module</text>\n</g>\n<!-- Deno\nStandard\nServer -->\n<g id=\"node3\" class=\"node\">\n<title>Deno\nStandard\nServer</title>\n<polygon fill=\"lightgreen\" stroke=\"black\" points=\"256.74,-118.2 191.22,-118.2 191.22,-59.4 256.74,-59.4 256.74,-118.2\"/>\n<text text-anchor=\"middle\" x=\"223.98\" y=\"-101.4\" font-family=\"Times,serif\" font-size=\"14.00\">Deno</text>\n<text text-anchor=\"middle\" x=\"223.98\" y=\"-84.6\" font-family=\"Times,serif\" font-size=\"14.00\">Standard</text>\n<text text-anchor=\"middle\" x=\"223.98\" y=\"-67.8\" font-family=\"Times,serif\" font-size=\"14.00\">Server</text>\n</g>\n<!-- Host\nModule&#45;&gt;Deno\nStandard\nServer -->\n<g id=\"edge2\" class=\"edge\">\n<title>Host\nModule&#45;&gt;Deno\nStandard\nServer</title>\n<path fill=\"none\" stroke=\"black\" d=\"M155.06,-64.91C163.4,-67.84 172.67,-71.1 181.62,-74.25\"/>\n<polygon fill=\"black\" stroke=\"black\" points=\"180.55,-77.58 191.14,-77.6 182.87,-70.98 180.55,-77.58\"/>\n</g>\n<!-- View\nModule -->\n<g id=\"node4\" class=\"node\">\n<title>View\nModule</title>\n<polygon fill=\"lightgreen\" stroke=\"black\" points=\"253.53,-41.4 194.43,-41.4 194.43,-0.2 253.53,-0.2 253.53,-41.4\"/>\n<text text-anchor=\"middle\" x=\"223.98\" y=\"-25\" font-family=\"Times,serif\" font-size=\"14.00\">View</text>\n<text text-anchor=\"middle\" x=\"223.98\" y=\"-8.2\" font-family=\"Times,serif\" font-size=\"14.00\">Module</text>\n</g>\n<!-- Host\nModule&#45;&gt;View\nModule -->\n<g id=\"edge3\" class=\"edge\">\n<title>Host\nModule&#45;&gt;View\nModule</title>\n<path fill=\"none\" stroke=\"black\" d=\"M155.06,-44.69C164.33,-41.43 174.75,-37.77 184.6,-34.3\"/>\n<polygon fill=\"black\" stroke=\"black\" points=\"185.91,-37.55 194.19,-30.93 183.59,-30.95 185.91,-37.55\"/>\n</g>\n<!-- Start\nModule -->\n<g id=\"node2\" class=\"node\">\n<title>Start\nModule</title>\n<polygon fill=\"lightgreen\" stroke=\"black\" points=\"59.33,-75.4 0.22,-75.4 0.22,-34.2 59.33,-34.2 59.33,-75.4\"/>\n<text text-anchor=\"middle\" x=\"29.77\" y=\"-59\" font-family=\"Times,serif\" font-size=\"14.00\">Start</text>\n<text text-anchor=\"middle\" x=\"29.77\" y=\"-42.2\" font-family=\"Times,serif\" font-size=\"14.00\">Module</text>\n</g>\n<!-- Start\nModule&#45;&gt;Host\nModule -->\n<g id=\"edge1\" class=\"edge\">\n<title>Start\nModule&#45;&gt;Host\nModule</title>\n<path fill=\"none\" stroke=\"black\" d=\"M59.35,-54.8C67.62,-54.8 76.78,-54.8 85.55,-54.8\"/>\n<polygon fill=\"black\" stroke=\"black\" points=\"85.6,-58.3 95.6,-54.8 85.6,-51.3 85.6,-58.3\"/>\n</g>\n</g>\n</svg>\n"
      },
      "date": 1608767020274
    }
  ]
}