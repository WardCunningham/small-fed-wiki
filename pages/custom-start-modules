{
  "title": "Custom Start Modules",
  "story": [
    {
      "type": "paragraph",
      "id": "1ed678e9f877b8e0",
      "text": "The [[Start Module]] is used to configure the application. These could be as exotic as a new application but has been more often just adapting to filesystem conventions. "
    },
    {
      "type": "markdown",
      "id": "cb217af73a58841f",
      "text": "# start.js"
    },
    {
      "type": "paragraph",
      "id": "396c32158d0b045b",
      "text": "This standard configuration expects to be run from within the .wiki directory. The virtual host mechanism provides the domain within the current working directory."
    },
    {
      "type": "code",
      "id": "0a7ce8eaf44b63ee",
      "text": "req.wiki = domain"
    },
    {
      "type": "markdown",
      "id": "8c99203b7b009f0a",
      "text": "# unix.js"
    },
    {
      "type": "paragraph",
      "id": "cacad58ae681d9e8",
      "text": "This is configured for docker deployments where normally global locations are made instance specific as volumes. This version expects an environment variable specifying the path."
    },
    {
      "type": "code",
      "id": "c3d4ec2ade605681",
      "text": "req.wiki = `${WIKI_DIR || \"/root/.wiki\"}/${domain}`"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Custom Start Modules",
        "story": []
      },
      "date": 1608765587975
    },
    {
      "item": {
        "type": "factory",
        "id": "1ed678e9f877b8e0"
      },
      "id": "1ed678e9f877b8e0",
      "type": "add",
      "date": 1608765590048
    },
    {
      "type": "edit",
      "id": "1ed678e9f877b8e0",
      "item": {
        "type": "paragraph",
        "id": "1ed678e9f877b8e0",
        "text": "The [[Start Module]] is used to configure the environment "
      },
      "date": 1608765641096
    },
    {
      "type": "edit",
      "id": "1ed678e9f877b8e0",
      "item": {
        "type": "paragraph",
        "id": "1ed678e9f877b8e0",
        "text": "The [[Start Module]] is used to configure the application. These could be as exotic as a new application but has been more often just adapting to filesystem conventions. "
      },
      "date": 1608766105286
    },
    {
      "item": {
        "type": "factory",
        "id": "cb217af73a58841f"
      },
      "id": "cb217af73a58841f",
      "type": "add",
      "after": "1ed678e9f877b8e0",
      "date": 1608766125655
    },
    {
      "type": "edit",
      "id": "cb217af73a58841f",
      "item": {
        "type": "markdown",
        "id": "cb217af73a58841f",
        "text": "# asia.js"
      },
      "date": 1608766136640
    },
    {
      "item": {
        "type": "factory",
        "id": "396c32158d0b045b"
      },
      "id": "396c32158d0b045b",
      "type": "add",
      "after": "cb217af73a58841f",
      "date": 1608766138945
    },
    {
      "type": "edit",
      "id": "396c32158d0b045b",
      "item": {
        "type": "paragraph",
        "id": "396c32158d0b045b",
        "text": "This is configured for the asia.wiki.org site which runs on digital ocean's ubuntu where farm sites are stored within /root/.wiki"
      },
      "date": 1608766238540
    },
    {
      "type": "edit",
      "id": "396c32158d0b045b",
      "item": {
        "type": "paragraph",
        "id": "396c32158d0b045b",
        "text": "This is configured for the asia.wiki.org site which runs on digital ocean's ubuntu."
      },
      "date": 1608766328307
    },
    {
      "item": {
        "type": "factory",
        "id": "0a7ce8eaf44b63ee"
      },
      "id": "0a7ce8eaf44b63ee",
      "type": "add",
      "after": "396c32158d0b045b",
      "date": 1608766330245
    },
    {
      "type": "edit",
      "id": "0a7ce8eaf44b63ee",
      "item": {
        "type": "code",
        "id": "0a7ce8eaf44b63ee",
        "text": "req.wiki = \"/root/.wiki/\"+domain"
      },
      "date": 1608766334571
    },
    {
      "item": {
        "type": "factory",
        "id": "8c99203b7b009f0a"
      },
      "id": "8c99203b7b009f0a",
      "type": "add",
      "after": "0a7ce8eaf44b63ee",
      "date": 1608766356307
    },
    {
      "type": "edit",
      "id": "8c99203b7b009f0a",
      "item": {
        "type": "markdown",
        "id": "8c99203b7b009f0a",
        "text": "# unix.js"
      },
      "date": 1608766374852
    },
    {
      "item": {
        "type": "factory",
        "id": "cacad58ae681d9e8"
      },
      "id": "cacad58ae681d9e8",
      "type": "add",
      "after": "8c99203b7b009f0a",
      "date": 1608766377706
    },
    {
      "type": "edit",
      "id": "cacad58ae681d9e8",
      "item": {
        "type": "paragraph",
        "id": "cacad58ae681d9e8",
        "text": "This is configured for docker deployments where normally global locations are made instance specific as volumes. This version expects an "
      },
      "date": 1608766687769
    },
    {
      "type": "edit",
      "id": "cacad58ae681d9e8",
      "item": {
        "type": "paragraph",
        "id": "cacad58ae681d9e8",
        "text": "This is configured for docker deployments where normally global locations are made instance specific as volumes. This version expects an environment variable specifying the path."
      },
      "date": 1608766850492
    },
    {
      "item": {
        "type": "factory",
        "id": "c3d4ec2ade605681"
      },
      "id": "c3d4ec2ade605681",
      "type": "add",
      "after": "cacad58ae681d9e8",
      "date": 1608766922690
    },
    {
      "type": "edit",
      "id": "c3d4ec2ade605681",
      "item": {
        "type": "code",
        "id": "c3d4ec2ade605681",
        "text": "req.wiki = (WIKI_DIR+\"/\" || \"/root/.wiki/\") + domain"
      },
      "date": 1608766930804
    },
    {
      "type": "edit",
      "id": "c3d4ec2ade605681",
      "item": {
        "type": "code",
        "id": "c3d4ec2ade605681",
        "text": "req.wiki = `${WIKI_DIR || \"/root/.wiki\"}/${domain}`"
      },
      "date": 1608767163002
    },
    {
      "type": "edit",
      "id": "cb217af73a58841f",
      "item": {
        "type": "markdown",
        "id": "cb217af73a58841f",
        "text": "# start.js"
      },
      "date": 1608954447898
    },
    {
      "type": "edit",
      "id": "396c32158d0b045b",
      "item": {
        "type": "paragraph",
        "id": "396c32158d0b045b",
        "text": "This standard configuration expects to be run from within the .wiki directory. The virtual host mechanism provides the domain within the current working directory."
      },
      "date": 1608954624816
    },
    {
      "type": "edit",
      "id": "0a7ce8eaf44b63ee",
      "item": {
        "type": "code",
        "id": "0a7ce8eaf44b63ee",
        "text": "req.wiki = domain"
      },
      "date": 1608954633919
    }
  ]
}